/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */

/*! audio5 2018-03-13 */

!function(){var t,e,i;!function(s){function n(t,e){return E.call(t,e)}function o(t,e){var i,s,n,o,r,a,h,l,d,c,u,p,m=e&&e.split("/"),f=b.map,g=f&&f["*"]||{};if(t){for(t=t.split("/"),r=t.length-1,b.nodeIdCompat&&T.test(t[r])&&(t[r]=t[r].replace(T,"")),"."===t[0].charAt(0)&&m&&(p=m.slice(0,m.length-1),t=p.concat(t)),d=0;d<t.length;d++)if("."===(u=t[d]))t.splice(d,1),d-=1;else if(".."===u){if(0===d||1===d&&".."===t[2]||".."===t[d-1])continue;d>0&&(t.splice(d-1,2),d-=2)}t=t.join("/")}if((m||g)&&f){for(i=t.split("/"),d=i.length;d>0;d-=1){if(s=i.slice(0,d).join("/"),m)for(c=m.length;c>0;c-=1)if((n=f[m.slice(0,c).join("/")])&&(n=n[s])){o=n,a=d;break}if(o)break;!h&&g&&g[s]&&(h=g[s],l=d)}!o&&h&&(o=h,a=l),o&&(i.splice(0,a,o),t=i.join("/"))}return t}function r(t,e){return function(){var i=x.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),m.apply(s,i.concat([t,e]))}}function a(t){return function(e){return o(e,t)}}function h(t){return function(e){y[t]=e}}function l(t){if(n(v,t)){var e=v[t];delete v[t],w[t]=!0,p.apply(s,e)}if(!n(y,t)&&!n(w,t))throw new Error("No "+t);return y[t]}function d(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function c(t){return t?d(t):[]}function u(t){return function(){return b&&b.config&&b.config[t]||{}}}var p,m,f,g,y={},v={},b={},w={},E=Object.prototype.hasOwnProperty,x=[].slice,T=/\.js$/;f=function(t,e){var i,s=d(t),n=s[0],r=e[1];return t=s[1],n&&(n=o(n,r),i=l(n)),n?t=i&&i.normalize?i.normalize(t,a(r)):o(t,r):(t=o(t,r),s=d(t),n=s[0],t=s[1],n&&(i=l(n))),{f:n?n+"!"+t:t,n:t,pr:n,p:i}},g={require:function(t){return r(t)},exports:function(t){var e=y[t];return void 0!==e?e:y[t]={}},module:function(t){return{id:t,uri:"",exports:y[t],config:u(t)}}},p=function(t,e,i,o){var a,d,u,p,m,b,E,x=[],T=typeof i;if(o=o||t,b=c(o),"undefined"===T||"function"===T){for(e=!e.length&&i.length?["require","exports","module"]:e,m=0;m<e.length;m+=1)if(p=f(e[m],b),"require"===(d=p.f))x[m]=g.require(t);else if("exports"===d)x[m]=g.exports(t),E=!0;else if("module"===d)a=x[m]=g.module(t);else if(n(y,d)||n(v,d)||n(w,d))x[m]=l(d);else{if(!p.p)throw new Error(t+" missing "+d);p.p.load(p.n,r(o,!0),h(d),{}),x[m]=y[d]}u=i?i.apply(y[t],x):void 0,t&&(a&&a.exports!==s&&a.exports!==y[t]?y[t]=a.exports:u===s&&E||(y[t]=u))}else t&&(y[t]=i)},t=e=m=function(t,e,i,n,o){if("string"==typeof t)return g[t]?g[t](e):l(f(t,c(e)).f);if(!t.splice){if(b=t,b.deps&&m(b.deps,b.callback),!e)return;e.splice?(t=e,e=i,i=null):t=s}return e=e||function(){},"function"==typeof i&&(i=n,n=o),n?p(s,t,e,i):setTimeout(function(){p(s,t,e,i)},4),m},m.config=function(t){return m(t)},t._defined=y,i=function(t,e,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(i=e,e=[]),n(y,t)||n(v,t)||(v[t]=[t,e,i])},i.amd={jQuery:!0}}(),i("libs/almond",function(){}),i("rs/three/BaseApp",[],function(){"use strict";function t(t,e,i){this.width=t||1e3,this.height=e||600,this.fov=i||60,this.init()}return t.prototype.init=function(){this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(this.fov,this.width/this.height,.1,1e4);var t=this.renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0});t.setSize(this.width,this.height),t.setPixelRatio(window.devicePixelRatio),this.camera.lookAt(new THREE.Vector3(0,0,0)),this.el=t.domElement,this.raycaster=new THREE.Raycaster},t.prototype._renderRequest=function(t){this.renderer.render(this.scene,this.camera),this.rId=requestAnimationFrame(this._renderRequest.bind(this))},t.prototype.startRendering=function(){this.rId=requestAnimationFrame(this._renderRequest.bind(this))},t.prototype.stopRendering=function(){cancelAnimationFrame(this.rId)},t.prototype.resizeHandler=function(){this.thfov=Math.tan(this.camera.fov*Math.PI/360)},t.prototype.setCameraMatchProjection=function(t){t=t||1;var e=this.camera,i=.5*this.height/Math.tan(e.fov*Math.PI/360);e.position.x=e.position.y=0,e.position.z=i/t,e.lookAt(new THREE.Vector3(0,0,0))},t.prototype._getScaleFitRatio=function(t,e,i){i=i||.75;var s=t/e;return this.width/s>this.height?this.height*i/e:this.width*i/t},t.prototype.getScaleFitPositionZ=function(t,e,i){this.setCameraMatchProjection();var s=this._getScaleFitRatio(t,e,i),n=this.camera.position.z;return n-n/s},t}),i("rs/sg3d/SphericalGalleryState",[],function(){return{NORMAL:0,EXTENDED:1,TARGET:2,DRAGGING:3,LOADING:4}}),i("rs/sg3d/DataItem",["rs/sg3d/SphericalGalleryState"],function(t){"use strict";function e(t,e){this.sg3d=t,this.title=e.title,this.link=e.link,this.content=e.content,this.description=e.description,this.thumbnail=e.thumbnail,this.srcVal=e.src,this.type=e.type,e.poster&&(this.poster=e.poster),this.extendedVal=e.extended,this.index=e.index}return Object.defineProperties(e.prototype,{src:{get:function(){return this.sg3d.state==t.NORMAL?this.srcVal:this.extendedVal}}}),e}),i("rs/sg3d/SphericalGalleryControl",[],function(){return{MOUSEMOVE:"mousemove",MOUSEDRAG:"mousedrag",AUTO:"auto"}}),i("rs/utils/ObjectUtil",[],function(){"use strict";var t={merge:function(t,e,i){for(var s in t)"[object Object]"===Object.prototype.toString.call(t[s])?(void 0===e[s]&&(e[s]={}),this.merge(t[s],e[s])):e[s]=t[s];return e},clone:function(e,i){var s={};return t.merge(e,s,i),s}};return t}),i("rs/utils/BrowserUtil",[],function(){"use strict";var t={bp:{XS:0,SM:576,MD:768,LG:992,XL:1200,XXL:1500,X3L:1900,X4L:2e3,X5L:3e3},computeStyle:function(t,e,i){return void 0===i&&(i="px"),parseFloat(getComputedStyle(t)[e].replace(i,""))},css:function(t,e){for(var i in e)t.style[i]=e[i]},getPrefix:function(){return t.pf||(window.opera||navigator.userAgent.indexOf(" OPR/")>=0?(t.pf="Webkit",t.browserName="Opera"):"undefined"!=typeof InstallTrigger?(t.pf="Moz",t.browserName="Firefox"):window.safari?(t.pf="Webkit",t.browserName="Safari"):window.chrome?(t.pf="Webkit",t.browserName="Chrome"):document.documentMode?(t.pf="ms",t.browserName="MSIE"):/Edge/.test(navigator.userAgent)?(t.pf="ms",t.browserName="MSIE"):(t.pf="Webkit",t.browserName="Safari"),"Webkit"===t.pf?t.ps="":t.ps="px",""!==t.pf?t.csspf="-"+t.pf.toLowerCase()+"-":t.csspf="",console.log(t.pf)),t.pf},getMouseTouchEvents:function(){return this.isMobile()?{mdown:"touchstart",mmove:"touchmove",mup:"touchend"}:{mdown:"mousedown",mmove:"mousemove",mup:"mouseup"}},isMobile:function(){return void 0===t.imb&&(t.imb=null===document.createElement("span").ontouchstart),t.imb},goFullscreen:function(e){var i=t.isFullscreenSupported();return!!i&&(""===i?e.requestFullScreen():e[i+"RequestFullScreen"]())},exitFullscreen:function(e){var i=t.isFullscreenSupported();return!!i&&(!!t.isFullscreen()&&(""===i?document.cancelFullScreen():document[i+"CancelFullScreen"]()))},fullScreenCallback:function(e,i,s){var n=t.isFullscreenSupported();if(!n)return!1;var o=n+"fullscreenchange";document.addEventListener(o,i)},isFullscreen:function(){var e=t.isFullscreenSupported();if(!e)return!1;switch(e){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[e+"FullScreen"]}},isFullscreenSupported:function(){var e=t.pf.toLowerCase();return void 0!==document.cancelFullScreen?"":void 0!==document[e+"CancelFullScreen"]&&e}};return t}),i("rs/sg3d/Gallery3dItem",[],function(){"use strict";function t(t,e,i,s){THREE.Mesh.prototype.constructor.call(this),this.gal=i,this.info=e,this.index=e.index,this.cindex=t,this.onLoadCallback=s,this.build(e,i.dopt)}t.prototype=Object.create(THREE.Mesh.prototype),t.prototype.constructor=t;t.DIM_OPACITY=.25;return t.prototype.build=function(t,e){var i=this;(new THREE.TextureLoader).load(t.src,function(t){var s=new THREE.MeshBasicMaterial({map:t,transparent:!1,side:THREE.FrontSide});if(e.backImage){var n=e.backImage;(new THREE.TextureLoader).load(n,function(t){var e=new THREE.MeshBasicMaterial({map:t,transparent:!1,side:THREE.FrontSide}),n=[e,e,e,e,e,s];i.material=n})}else i.material=s;var o=t.image.width,r=t.image.height,a=o/r,h=e.constraint;a>1?o>h&&(o=h,r=o/a):r>h&&(r=h,o=r*a),i.width=o,i.height=r;var l;l=e.boxThickness<=0?new THREE.PlaneBufferGeometry(o,r):new THREE.BoxBufferGeometry(o,r,e.boxThickness),s.clipIntersection=!0,i.geometry=l,i.onLoadCallback.call(i)})},t.prototype.transitionIn=function(){var t=this.gal.dopt,e=this;e.visible=!1,e.scale.set(.1,.1,.1);var i=t.itemTweenInMaxDelay,s=this.gal.getCurrentItems().length,n=t.itemTweenInDelayFactor,o=Math.round(Math.random()*i);n=2,o=this.cindex/s*n*i;var r=(t.itemTweenInDuration,t.itemTweenInEasing);anime.remove(this.scale),anime({targets:this.scale,x:1,y:1,z:1,duration:1e3,delay:o,easing:r}),setTimeout(function(){e.visible=!0},o)},t.prototype.transitionOut=function(t){var e=this,i=this.gal.dopt.itemTweenOutDuration,s=this.gal.dopt.itemTweenOutEasing;anime.remove(this.scale),anime({targets:this.scale,x:.01,y:.01,z:.01,duration:i,easing:s,complete:function(){t.call(e),e.visible=!1}})},t.prototype.setClickHandler=function(t){this.clickHandler=t},t.prototype.setMouseOverHandler=function(t){this.overHandler=t},t.prototype.tint=function(t){if(this.material.length)for(var e=this.material.length,i=0;i<e;i++)this.material[i].color.set(t);else this.material.color.set(t)},t.prototype.tintWhite=function(){this.tint("#ffffff")},t.prototype.destroy=function(){this.geometry.dispose(),this.material.dispose()},t}),i("rs/sg3d/Gallery3dContainer",["rs/sg3d/Gallery3dItem"],function(t){"use strict";function e(t){this.gal=t,this.init(),this.spot=new THREE.Object3D}return e.prototype=Object.create(THREE.Group.prototype),e.prototype.constructor=e,e.prototype.init=function(){THREE.Group.prototype.constructor.call(this),this.visible=!1,this.position.z=this.gal.getResponsiveZPosition()+this.gal.dopt.containerZ},e.prototype.loadItems=function(t){for(var e=this.gal.dopt.sphereRadius,i=this.gal.dopt.boxThickness,s=(this.gal.rha,this.gal.rva,this.gal.hnum),n=this.gal.vnum,o=0,r=0;r<n;r++)for(var a=0;a<s&&0!=r;a++){var h=t[o++],l=e;a%2==0&&(l+=i+4),h.visible=!0;var d=this.calPosition(l,r,a);h.position.z=d.z,h.position.x=d.x,h.position.y=d.y,h.i=r,h.j=a,h.lookAt(0,0,0),this.add(h)}},e.prototype.removeItems=function(){for(;this.children.length>0;)this.remove(this.children[this.children.length-1])},e.prototype.transitionOut=function(t){function e(){++s==i.length&&t.call(this.gal)}for(var i=this.gal.getCurrentItems(),s=0,n=0;n<i.length;n++){i[n].transitionOut(e)}anime.remove(this.rotation);var o=this.rotation.y+Math.PI;anime({targets:this.rotation,y:o,duration:2e3,easing:"easeOutQuad"})},e.prototype.transitionIn=function(){var t=this,e=this.gal.getCurrentItems();this.lastIndex=-1,t.visible=!0;for(var i=0;i<e.length;i++){e[i].transitionIn()}anime.remove(this.rotation),anime({targets:this.rotation,x:0,y:[2*-Math.PI,0],z:0,duration:2500,easing:"easeOutQuad"})},e.prototype.resetLastItem=function(){if(-1!=this.lastIndex){var t=this.gal.catRef[this.gal.ccidx],e=t[this.lastIndex],i=this.gal.dopt.sphereRadius,s=this.gal.dopt.boxThickness;e.j%2==0&&(i+=s+4);var n=this.calPosition(i,e.i,e.j);anime.remove(e.position),anime({targets:e.position,x:n.x,y:n.y,z:n.z,duration:800}),e.tint(this.gal.dopt.tintColor),this.lastIndex=-1}},e.prototype.tintAll=function(t){t=t||"#333333";for(var e=this.gal.getCurrentItems(),i=0;i<e.length;i++)e[i].tint(t)},e.prototype.target=function(t,e){function i(t){return Math.abs(t)<1e-4?0:t}if(this.lastIndex!=e){var s=this.gal.catRef[this.gal.ccidx],n=this.gal.dopt.sphereRadius,o=s[e];o.tintWhite();var r=this.gal.camera;this.resetLastItem(),this.lastIndex=e,this.remove(this.spot);var a=this.spot,h=n+.5*this.gal.height/Math.tan(r.fov*Math.PI/360)+this.gal.dopt.itemExtrude,l=this.calPosition(h,o.i,o.j);a.position.x=l.x,a.position.y=l.y,a.position.z=l.z;var d=this.calPosition(h+100,o.i,o.j);a.lookAt(d.x,d.y,d.z),this.add(a);var c=new THREE.Vector3;a.getWorldPosition(c);var u=(new THREE.Euler).setFromQuaternion(a.getWorldQuaternion(new THREE.Quaternion)),p=i(u.x),m=i(u.y),f=i(u.z),g=this.gal.dopt.targetDuration,y=this.gal.dopt.targetEasing;this.gal.sg3d;anime.remove(r.position),anime({targets:r.position,x:c.x,y:c.y,z:c.z,easing:y,duration:g}),anime.remove(r.rotation),anime({targets:r.rotation,x:p,y:m,z:f,easing:y,duration:g});var v=n+this.gal.dopt.itemExtrude,b=this.calPosition(v,o.i,o.j);anime.remove(o.position),anime({targets:o.position,x:b.x,y:b.y,z:b.z,ease:this.gal.dopt.extrudeEasing,duration:this.gal.dopt.extrudeDuration})}},e.prototype.calPosition=function(t,e,i){var s=this.gal.rha,n=this.gal.rva,o=t*Math.sin(n*e)*Math.cos(s*i);return{x:t*Math.sin(n*e)*Math.sin(s*i),y:t*Math.cos(n*e),z:o}},e.prototype.zoom=function(t){if(0===this.gal.sg3d.state){var e=this.gal.dopt,i=this.gal.camera,s=e.zoomAmount,n=i.position.z+s*t;n<e.minZ||n>e.maxZ||anime({targets:i.position,z:n,duration:800,easing:"easeOutQuint"})}},e}),i("rs/sg3d/Gallery3d",["rs/three/BaseApp","rs/utils/ObjectUtil","rs/utils/BrowserUtil","rs/sg3d/SphericalGalleryState","rs/sg3d/Gallery3dItem","rs/sg3d/Gallery3dContainer"],function(t,e,i,s,n,o){"use strict";function r(e){this.sg3d=e,this.data=e.data,this.dopt=e.defaultOptions;t.prototype.constructor.call(this,500,300),this.setCameraMatchProjection(),this.cidx=-1,this.catRef=[],this._speedX=this._speedY=0,this.hnum=Math.floor(360/this.dopt.hAngleSegment),this.vnum=Math.floor(180/this.dopt.vAngleSegment),this.totalSphereItems=this.hnum*this.vnum,this.rha=this.dopt.hAngleSegment*Math.PI/180,this.rva=this.dopt.vAngleSegment*Math.PI/180,this.defaultCursor="auto",this.buildScene()}return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.buildScene=function(){this.container=new o(this),this.scene.add(this.container),this._setUpRaycaster(),this.resizeHandler()},r.prototype._setUpRaycaster=function(){function t(t){var r={x:t.offsetX/o.width*2-1,y:-t.offsetY/o.height*2+1};i.setFromCamera(r,e);for(var a=i.intersectObjects(s.children,!0),h=0;h<a.length;h++){var l=a[h].object;"mousedown"==t.type&&l.clickHandler.call(this),"mousemove"==t.type&&(n.style.cursor="pointer",l.overHandler.call(this,t));break}if(0==a.length&&"mousemove"==t.type){n.style.cursor=o.defaultCursor,o.sg3d.zbtn.hide();var d=o.sg3d.tt;o.sg3d.defaultOptions.tooltip.enabled&&d.hide()}}var e=this.camera,i=this.raycaster,s=this.container,n=this.el,o=this;n.addEventListener("mousedown",t),n.addEventListener("mousemove",t)},r.prototype.buildGallery=function(t,e,i){var s=(this.dopt,[]);this.catRef[t]=s;for(var o=(e.name,e.items),r=0;r<this.totalSphereItems;r++){var a=o[r],h=new n(r,a,this,i);s.push(h)}this.container.visible=!1,this.container.loadItems(s)},r.prototype.target=function(t,e){e!=this.container.lastIndex&&(this.cidx=t,this.releaseContainer(),this.container.tintAll(this.dopt.tintColor),this.container.target(t,e))},r.prototype.getContainerLastIndex=function(){return this.container.lastIndex},r.prototype.addAll=function(t){var e=this.catRef[t];this.container.visible=!1,this.container.loadItems(e)},r.prototype.removeAll=function(){this.catRef[this.ccidx];this.container.removeItems()},r.prototype.open=function(){this.camera.position.set(0,0,0),this.setCameraMatchProjection(),this.container.transitionIn()},r.prototype.close=function(t){this.releaseContainer(),this.container.transitionOut(t)},r.prototype.resize=function(t,e,s,n){for(var o=i.bp,r=["XS","SM","MD","LG","XL"],a=r.length-1;a>=0&&!(t>=o[r[a]]);a--);this.width=s,this.height=n,this.camera.aspect=s/n,this.camera.updateProjectionMatrix(),this.renderer.setSize(s,n),this.resizeHandler(),this.show(),this.container.position.z=this.dopt.containerZ+this.getResponsiveZPosition()},r.prototype._renderRequest=function(){if(t.prototype._renderRequest.call(this),this.sg3d.state===s.NORMAL){var e=Math.PI/180*this._speedX,i=Math.PI/180*this._speedY;this.container.rotation.y-=e,this.container.rotation.x-=i}},r.prototype.getResponsiveZPosition=function(){for(var t=window.innerWidth,e=(window.innerHeight,this.dopt),s=i.bp,n=["XS","SM","MD","LG","XL"],o=n.length-1;o>=0&&!(t>=s[n[o]]);o--);return e.responsive[n[o]]},r.prototype.setSpeed=function(t,e){this._speedX=t,this._speedY=e},r.prototype.resizeHandler=function(e){t.prototype.resizeHandler.call(this),this.setCameraMatchProjection()},r.prototype.show=function(){this.el.style.display="block"},r.prototype.hide=function(){this.el.style.display="none"},r.prototype.saveContainerRotation=function(){this.cRotX=this.container.rotation.x,this.cRotY=this.container.rotation.y},r.prototype.spinContainer=function(t,e){function i(){var r=t+s.cRotY-n.y,a=e+s.cRotX-n.x;n.y+=r*o,n.x+=a*o,(Math.abs(r)>.01||Math.abs(a)>.01)&&(s.spinId=requestAnimationFrame(i))}var s=this,n=this.container.rotation,o=.025;cancelAnimationFrame(this.spinId),i()},r.prototype.releaseContainer=function(){cancelAnimationFrame(this.spinId)},r.prototype.restorePosition=function(){var t=.5*this.height/Math.tan(this.camera.fov*Math.PI/360),e=this.dopt.returnDuration;anime.remove(this.camera.position),anime({targets:this.camera.position,x:0,y:0,z:t,easing:"easeOutQuint",duration:e}),anime({targets:this.camera.rotation,x:0,y:0,z:0,easing:"easeOutQuint",duration:e}),this.container.resetLastItem(),this.container.tintAll("#ffffff"),this.cidx=-1},r.prototype.getScaleFitPositionZ=function(t,e){this.setCameraMatchProjection();var i=this.dopt.fitRatio,s=this._getScaleFitRatio(t,e,i),n=this.dopt.scaleToFit,o=this.camera.position.z;return"smart"==n?s>1?0:o-o/s:"none"==n?0:"always"==n?o-o/s:void 0},r.prototype.getCurrentItems=function(){return this.catRef[this.ccidx]},r.prototype.destroy=function(){this.catRef[this.ccidx].forEach(function(t,e){t.destroy()})},r}),i("rs/utils/Tween",["rs/utils/BrowserUtil"],function(t){"use strict";function e(t){var e="",n="";"transformExpression"in t&&(e=t.transformExpression+" ");for(var o in t)o in s?e=e+o+"("+t[o]+s[o]+") ":"start"!=o&&"transformExpression"!=o&&(n+=""!==n?", "+o:o,$(this).css(o,t[o]));if(""!==e)if(void 0!==this.style.transform)this.style.transform=e,""!==n?n+=", transform":n="transform";else{this.style[i+"Transform"]=e;var r="-"+i.toLowerCase()+"-transform";""!==n?n+=", "+r:n=r}return n}var i=t.getPrefix(),s={rotate:"deg",rotateX:"deg",rotateY:"deg",rotateZ:"deg",translateX:"px",translateY:"px",translateZ:"px",scale:"",scaleX:"",scaleY:"",skew:"deg",skewX:"deg",skewY:"deg"};return function(t,s,n,o,r){n||(n=1),o||(o="ease-out"),r||(r=0),s.start&&e.call(t,s.start),clearTimeout(t.fwtweenID);var a;return a=void 0!==t.style.transition?"transition":i+"Transition",setTimeout(function(){t.style[a+"Property"]=e.call(t,s),t.style[a+"TimingFunction"]=o,t.style[a+"Duration"]=n+"s",t.style[a+"Delay"]=r+"s"},10),t.fwtweenID=setTimeout(function(){t.style[a+"Property"]="",t.style[a+"Duration"]="0s"},1e3*(n+r)),this}}),i("rs/sg3d/Gallery2dItem",["rs/utils/Tween","rs/utils/BrowserUtil"],function(t,e){"use strict";function i(t){this.build(t)}var s=e.getPrefix(),n=s+"Transform";return i.prototype.build=function(t){this.config=t;var e=this,i=this.element=this.el=document.createElement("img");i.src=t.src,this.index=t.index;var s=i.style;s.border=t.borderStyle,s.position="absolute",s.cursor="pointer",s.display="none",t.ovalShape?s.borderRadius="50%":s.borderRadius=t.roundCorner+"px";var n=t.constraint;i.addEventListener("load",function(s){var o=i.width,r=i.height,a=o/r;a>1?o>n&&(o=n,r=o/a):r>n&&(r=n,o=r*a),i.width=o,i.height=r,i.style.top=.5*-i.height+"px",i.style.left=.5*-i.width+"px",void 0!==t.itemShadow&&(i.style.boxShadow=t.itemShadow),t.onLoadCallback.call(e)})},i.prototype.setScale=function(t){this.el.style[n]="scale("+t+")"},i.prototype.setPosition=function(e){var i=this.config,s=this.index-e,n=Math.abs(s),o=i.minScale;n<=i.rangeCount&&(o=(1-n/i.rangeCount)*(i.maxScale-i.minScale)+i.minScale);var r=this.el.style;r.zIndex=s>=0?this.config.count-s+100:s+100;new t(this.el,{scale:o,translateX:s*i.distance},.8,"cubic-bezier(0.00, 0.00, 0.23, 1)")},i}),i("rs/sg3d/Gallery2d",["rs/sg3d/Gallery2dItem","rs/utils/ObjectUtil","rs/utils/BrowserUtil"],function(t,e,i){"use strict";function s(t,e){this.data=t,this.catRef=[],this.cidx=0,this.dopt=e,this.buildScene()}var n=i.getPrefix();return s.prototype.buildScene=function(){var t=this.el=document.createElement("div");t.style.position="absolute",t.style.overflow="hidden",t.style[n+"UserSelect"]="none",t.className="rs-smoothgal rs-gal2d";var e=this.dopt.origins,i=this.container=document.createElement("div");i.style.position="absolute",i.style.top=e[1]+"%",i.style.left=e[0]+"%",t.appendChild(i)},s.prototype.target=function(t){var e=this.catRef[this.ccidx];if(this.dopt.loop&&(t<0&&(t+=e.length),t>=e.length&&(t-=e.length)),t>=0&&t<this.data[this.ccidx].items.length){this.dopt;this.cidx=t;for(var i=0;i<e.length;i++){e[i].setPosition(t)}}},s.prototype.addAll=function(t){var e=this.catRef[t];if(void 0!==e)for(var i=0;i<e.length;i++)this.container.appendChild(e[i].el)},s.prototype.removeAll=function(){for(var t=this.catRef[this.ccidx],e=0;e<t.length;e++)this.container.removeChild(t[e].el)},s.prototype.buildGallery=function(e,i,s){var n=this.dopt,o=[];this.catRef[e]=o;for(var r=i.items,a=(i.name,0);a<r.length;a++){var h=new t({src:r[a].src,index:a,count:r.length,minScale:n.minScale,maxScale:n.maxScale,rangeCount:n.rangeCount,distance:n.distance,itemShadow:n.itemShadow,circleShape:n.circleShape,roundCorner:n.roundCorner,borderStyle:n.borderStyle,constraint:n.constraint,onLoadCallback:s});o.push(h),this.container.appendChild(h.el)}},s.prototype.open=function(){for(var t=(this.dopt,this.catRef[this.ccidx]),e=0;e<t.length;e++){var i=t[e];i.el.style.display="block",i.setScale(0),i.setPosition(0)}},s.prototype.close=function(t){var e=this.catRef[this.ccidx];if(void 0!=e){for(var i=this,s=0;s<e.length;s++)anime({targets:e[s].el,duration:1200,easing:"easeOutQuint",scale:0,translateX:0});setTimeout(function(){t.call(i)},1200)}},s.prototype.resize=function(t,e){for(var s=i.bp,n=["XS","SM","MD","LG","XL"],o=n.length-1;o>=0&&!(t>=s[n[o]]);o--);this.container.style.transform="scale("+this.dopt.responsive[n[o]]+")"},s.prototype.destroy=function(){console.log("Destroy gallery")},s}),i("rs/utils/MouseUtil",["rs/utils/BrowserUtil"],function(t){"use strict";function e(t){t.preventDefault(),t.currentTarget.mouseWheelCallback.call(t.currentTarget.mousewheelContext,Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)))}return{touchClick:function(e,i){t.isMobile()?e.addEventListener("touchstart",i):e.addEventListener("click",i)},removeTouchClick:function(e,i){t.isMobile()?e.removeEventListener("touchstart",i):e.removeEventListener("click",i)},startMouseWheel:function(t,i,s){t.mouseWheelCallback=i,t.mousewheelContext=s,t.addEventListener("DOMMouseScroll",e,!1),t.addEventListener("mousewheel",e,!1)},stopMouseWheel:function(t){t.removeEventListener("DOMMouseScroll",e),t.removeEventListener("mousewheel",e)},swipeStart:function(e,i,s,n,o){function r(t){p=t.clientX,m=t.clientY,f=(new Date).getTime(),e.addEventListener("mousemove",h),window.addEventListener("mouseup",l)}function a(t){e.removeEventListener("mousemove",h),window.removeEventListener("mouseup",l),e.removeEventListener("mouseout",a)}function h(e){var i=e.clientX-p,r=e.clientY-m;t.swipeState="move",Math.abs(i)>Math.abs(r)?n(i*s):o(r*s)}function l(t){e.removeEventListener("mousemove",h),window.removeEventListener("mouseup",l)}function d(t){p=t.touches[0].clientX,m=t.touches[0].clientY,f=(new Date).getTime(),e.addEventListener("touchmove",c),window.addEventListener("touchend",u)}function c(e){e.preventDefault();var i=e.changedTouches[0].clientX-p,r=e.changedTouches[0].clientY-m;t.swipeState="move",Math.abs(i)>Math.abs(r)?n(i*s):o(r*s)}function u(t){e.removeEventListener("touchmove",c),window.removeEventListener("touchend",u)}var p,m,f;e.style[t.getPrefix()+"UserSelect"]="none",e.removeTracking=function(){e.removeEventListener("mousedown",r),window.removeEventListener("mouseup",l),e.removeEventListener("mousemove",h),e.removeEventListener("mouseout",a),e.removeEventListener("touchstart",d),e.removeEventListener("touchend",u),e.removeEventListener("touchmove",c),e.removeTracking=null},t.isMobile()?e.addEventListener("touchstart",d):e.addEventListener("mousedown",r)},swipeStop:function(e){e.style[t.getPrefix()+"UserSelect"]="all",e.removeTracking&&e.removeTracking()}}}),i("rs/sg3d/CategoryMenu",["rs/utils/MouseUtil"],function(t){"use strict";function e(t,e){this.build(t,e)}return e.prototype.build=function(e,i){function s(t){anime.remove(l),h?(h=!1,o.pull()):(h=!0,o.push())}function n(t){s(),t.target.index!=o.cidx&&(o.cidx=t.target.index,a.innerHTML=t.target.innerHTML,i.call(o,o.cidx))}var o=this,r=document.createElement("div");r.className="rs-sg3d-cmenu",this.style=r.style,this.cidx=0;var a=document.createElement("a");this.tlb=a,a.className="rs-sg3d-toplabel",a.innerHTML="Gallery";var h=!1;t.touchClick(a,s),t.touchClick(r,function(t){}),r.appendChild(a);var l=document.createElement("ul");this.list=l,l.className="rs-sg3d-clist",l.style.display="none",l.style.opacity=0,l.style.transform="translateY(-15px)",r.appendChild(l);for(var d=0;d<e.length;d++){var c=document.createElement("li");c.innerHTML=e[d].name,c.index=d,t.touchClick(c,n),l.appendChild(c)}this.el=r,this.tlb=a,this.list=l,1==e.length&&(this.isSingle=!0)},e.prototype.setTopLabel=function(t){this.tlb.innerHTML=t},e.prototype.setActive=function(t){console.log(t)},e.prototype.pull=function(){var t=this.list;anime({targets:t,duration:1200,opacity:0,translateY:-15,complete:function(e){t.style.display="none"}})},e.prototype.push=function(){var t=this.list;t.style.display="block",anime({targets:t,duration:1200,opacity:1,translateY:0})},e.prototype.show=function(){this.isSingle||(this.style.display="block")},e.prototype.hide=function(){this.style.display="none"},e}),i("rs/sg3d/HCategoryMenu",["rs/utils/MouseUtil"],function(t){"use strict";function e(t,e){this.build(t,e)}return e.prototype.build=function(e,i){function s(t){t.target.index!=n.cidx&&(n.setActive(t.target.index),i.call(n,n.cidx))}var n=this,o=this.el=document.createElement("ul");o.className="rs-mg3d-hcmenu",this.style=o.style,this.cidx=0;for(var r=0;r<e.length;r++){var a=document.createElement("li");a.innerHTML=e[r].name,a.index=r,t.touchClick(a,s),o.appendChild(a),e.length>1&&(0==r?a.style.borderTopRightRadius=a.style.borderBottomRightRadius="0px":r==e.length-1?a.style.borderTopLeftRadius=a.style.borderBottomLeftRadius="0px":a.style.borderRadius="0px")}1==e.length&&(this.isSingle=!0)},e.prototype.setActive=function(t){this.currentItem&&this.currentItem.classList.remove("active-item"),this.cidx=t;var e=this.el.children[t];this.currentItem=e,e.classList.add("active-item")},e.prototype.show=function(){this.isSingle||(this.style.display="block")},e.prototype.hide=function(){this.style.display="none"},e}),i("rs/sg3d/TextDisplay",[],function(){"use strict";function t(t,e){this.build(t,e)}return t.prototype.build=function(t,e){var i=document.createElement(t);i.innerHTML="Text Display",i.className="rs-sg3d-textdisplay "+e,this.el=i,this.style=i.style},t.prototype.show=function(t){this.hide(),this.el.innerHTML=t},t.prototype.hide=function(){this.style.display="none"},t.prototype.reAlign=function(){},t}),i("rs/sg3d/ItemTitle",["rs/sg3d/TextDisplay"],function(t){"use strict";function e(){this.build("h3","rs-sg3d-title")}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.show=function(e){t.prototype.show.call(this,e),anime.remove(this.el),anime({targets:this.el,opacity:[0,1],duration:1500,delay:400}),this.style.display="block"},e}),i("rs/sg3d/ItemDescription",["rs/sg3d/TextDisplay"],function(t){"use strict";function e(){this.build("div","rs-sg3d-description")}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.show=function(e){t.prototype.show.call(this,e),anime.remove(this.el),anime({targets:this.el,opacity:[0,1],duration:2e3,delay:600}),this.style.display="block"},e}),i("rs/sg3d/FullscreenButton",["rs/utils/BrowserUtil","rs/utils/MouseUtil"],function(t,e){"use strict";function i(t,e){this.targetEl=t,this.build("icon-screen-full",e)}return i.prototype.build=function(i,s){var n=this,o=this.targetEl,r=this.el=document.createElement("span");r.className=i+" rs-sg3d-fsbtn",e.touchClick(r,function(e){t.isFullscreen()?t.exitFullscreen(o):t.goFullscreen(o)}),t.fullScreenCallback(o,function(){t.isFullscreen()?n.setFull():n.setNormal(),s.call(o)})},i.prototype.setFull=function(){this.el.classList.remove("icon-screen-full"),this.el.classList.add("icon-screen-normal")},i.prototype.setNormal=function(){this.el.classList.remove("icon-screen-normal"),this.el.classList.add("icon-screen-full")},i}),i("rs/sg3d/BackButton",["rs/utils/BrowserUtil","rs/utils/MouseUtil"],function(t,e){"use strict";function i(t,e){this.targetEl=t,this.build("icon-close",e)}return i.prototype.build=function(t,i){var s=(this.targetEl,this.el=document.createElement("span"));s.className=t+" rs-sg3d-bbtn",e.touchClick(s,i.bind(this))},i.prototype.show=function(){this.el.style.display="block"},i.prototype.hide=function(){this.el.style.display="none"},i}),i("rs/sg3d/ZoomButton",[],function(){"use strict";function t(t){this.build(t,t.defaultOptions)}return t.prototype.build=function(t,e){var i=this.el=document.createElement("span");i.className="rs-sg3d-zoombtn icon-add-outline";var s=i.style;s.left="50%",s.top=e.origins[1]+"%",i.addEventListener("mouseover",function(t){anime.remove(i),i.style.opacity=1,i.style.display="block"})},t.prototype.show=function(){this.el.style.opacity=1,this.el.style.display="block"},t.prototype.hide=function(){this.el.style.display="none",this.el.style.opacity=0},t}),i("rs/sg3d/Tooltip",[],function(){"use strict";function t(t){this.sg3d=t,this.build()}return t.prototype.build=function(){var t=(this.sg3d.defaultOptions,this.el=document.createElement("div"));t.className="rs-sg3d-tooltip",t.style.position="absolute",t.style.display="none"},t.prototype.setText=function(t){this.el.innerHTML=t},t.prototype.show=function(t,e,i){this.setText(t);var s=this.el,n=s.style;n.display="block",n.opacity=1,n.top=i-40+"px",n.left=e+"px"},t.prototype.hide=function(){this.el.style.display="none"},t}),i("rs/sg3d/ButtonNavigator",["rs/utils/MouseUtil"],function(t){"use strict";function e(t,e){this.build(t,e),this.hide("left")}return e.prototype.build=function(t,e){this.lBtn=this.makeButton("icon-cheveron-left rs-sg3d-lbn",t),this.rBtn=this.makeButton("icon-cheveron-right rs-sg3d-rbn",e)},e.prototype.makeButton=function(e,i){var s=document.createElement("span");return s.className=e+" rs-sg3d-bnav",t.touchClick(s,i),s},e.prototype.hide=function(t){"left"==t?this.lBtn.style.display="none":"right"==t&&(this.rBtn.style.display="none")},e.prototype.show=function(t){"left"==t?this.lBtn.style.display="block":"right"==t&&(this.rBtn.style.display="block")},e.prototype.showAll=function(){this.show("left"),this.show("right")},e.prototype.hideAll=function(){this.hide("left"),this.hide("right")},e.prototype.reAlign=function(t){this.lBtn.style.top=this.rBtn.style.top=t[1]+"%"},e}),i("rs/ui/RingPreloader",["rs/utils/ObjectUtil"],function(t){"use strict";function e(e){this.dopt={size:40,borderWidth:6,borderColor:"#AAA"},t.merge(e,this.dopt),this.build()}return e.prototype.build=function(){var t=this.dopt,e=this.el=document.createElement("div");e.className="rs-ringpreloader",e.innerHTML="<div class='lds-ring'><div></div><div></div><div></div><div></div></div>",e.style.marginLeft=e.style.marginTop=.5*-t.size+"px";for(var i=e.firstChild.children,s=0;s<i.length;s++){var n=i[s].style;n.width=n.height=t.size+"px",n.borderWidth=t.borderWidth+"px",n.borderTopColor=t.borderColor}},e.prototype.show=function(){this.el.style.display="block"},e.prototype.hide=function(){this.el.style.display="none"},e}),i("rs/media/MediaViewerEvent",[],function(){return{TARGET:"mvtarget",EXIT:"mvexit"}}),i("rs/media/MediaViewerThumbnail",["rs/utils/BrowserUtil"],function(t){"use strict";function e(e,i){s=t.getMouseTouchEvents().mup,this.mviewer=e,this.build(i)}function i(t){var e=t.target.com;e.targetItem.call(e,t)}var s,n={AJAX:0,AUDIO:1,EMBED:2,INLINE:3,PHOTO:4,
VIDEO:5};return e.prototype.build=function(t){this.id=t.id;var e=this.el=document.createElement("li");if(e.com=this,e.className="rs-mediaviewer-thumbnail",e.style.display="block",e.style.width=e.style.height=t.size+"px",void 0===t.src){var o=document.createElement("span");o.innerHTML=this.id+1,e.appendChild(o),e.style.backgroundSize=6*t.size+"px "+t.size+"px",void 0!==t.type&&(e.style.backgroundPositionX=-n[t.type.toUpperCase()]*t.size+"px")}else"string"==typeof t.src&&(e.style.backgroundImage="url("+t.src+")");e.addEventListener(s,i)},e.prototype.setActive=function(t){this.el.style.opacity=t?.4:1},e.prototype.targetItem=function(t){this.mviewer.mbar.isDragging||(this.mviewer.mbar.thumbnailTarget=!0,this.mviewer.target(this.id))},e.prototype.dispose=function(){this.el.com=null,this.el.removeEventListener(s,i)},e}),i("rs/media/MediaViewerBar",["rs/utils/BrowserUtil","rs/media/MediaViewerThumbnail"],function(t,e){"use strict";function i(t){this.mviewer=t,this.build()}return i.prototype.build=function(){var t=this.el=document.createElement("div");t.className="rs-mediaviewer-bar",t.style.display="none";var e=this.mviewer.dopt,i=e.thumbnailSize;this.visibleThumbs=e.maxVisibleThumbnail;var s=this.leftBtn=document.createElement("span");s.className="bar-Btn rs-med-icon-left",s.style.lineHeight=i+"px",t.appendChild(s);var n=this.container=document.createElement("div");n.style.overflow="hidden",n.style.float="left",n.style.position="relative",n.style.height=e.thumbnailSize+"px",t.appendChild(n);var o=this.containerInner=document.createElement("ul");o.style.height="100%",n.appendChild(o);var r=this.rightBtn=document.createElement("span");r.className="bar-Btn rs-med-icon-right",r.style.lineHeight=e.thumbnailSize+"px",t.appendChild(r);var a=this;this.leftBtn.onclick=function(t){a.prev()},this.rightBtn.onclick=function(t){a.next()},this.setDraggable()},i.prototype.setDraggable=function(){function e(t){h.thumbnailTarget=!1,o=void 0===t.clientX?t.touches[0].clientX:t.clientX,document.body.addEventListener(c,n),document.body.addEventListener(u,i)}function i(t){if(h.isDragging=!1,document.body.removeEventListener(c,n),document.body.removeEventListener(u,i),!h.thumbnailTarget){var e;e=void 0===t.clientX?h.posX+t.changedTouches[0].clientX-o:h.posX+t.clientX-o,e<h.posX?h.next():h.prev()}}function s(t){return void 0===t.clientX?h.posX+t.touches[0].clientX-o:h.posX+t.clientX-o}function n(t){h.isDragging=!0;var e=s(t);anime.remove(a),anime({targets:a,duration:0,translateX:e,easing:"easeOutQuint"})}var o,r=this.container,a=this.containerInner,h=this,l=t.getMouseTouchEvents(),d=l.mdown,c=l.mmove,u=l.mup;r.addEventListener(d,e)},i.prototype.loadThumbnails=function(t){this.currentCatId=t;var i=this.mviewer.data[t].items;this.removeAll();for(var s=this.mviewer.dopt,n=this.containerInner,o=0;o<i.length;o++){var r=new e(this.mviewer,{size:s.thumbnailSize,src:i[o].thumbnail,type:i[o].type,id:o});n.appendChild(r.el)}n.style.width=i.length*s.thumbnailSize+"px",this.currentSet=0,this.currentItemId=0,this.totalItems=i.length,this.lastActiveThumb=null},i.prototype.setVisibleArea=function(){var e=t.computeStyle(document.body,"width")-12,i=this.mviewer.dopt;i.thumbnailSize;this.visibleThumbs=i.maxVisibleThumbnail;var s=i.thumbnailSize*this.visibleThumbs;s+64>e&&(this.visibleThumbs=Math.floor((e-64)/i.thumbnailSize),s=this.visibleThumbs*i.thumbnailSize),this.container.style.width=s+"px",this.leftBtn.style.marginLeft=.5*(e-s-64)+"px",this.currentSet=Math.floor(this.currentItemId/this.visibleThumbs),this.target(this.currentSet)},i.prototype.target=function(t){this.currentSet=t,t===this.getTotalSet()-1?this.rightBtn.style.display="none":this.rightBtn.style.display="block",this.leftBtn.style.visibility=0===t?"hidden":"visible";var e=-this.currentSet*this.visibleThumbs*this.mviewer.dopt.thumbnailSize;this.posX=e,anime.remove(this.containerInner),anime({targets:this.containerInner,duration:1e3,translateX:e,easing:"easeOutQuint"})},i.prototype.targetItem=function(t){this.currentItemId=t,this.currentSet=Math.floor(this.currentItemId/this.visibleThumbs),this.setActiveThumbnail(t),this.target(this.currentSet)},i.prototype.setActiveThumbnail=function(t){var e=this.containerInner,i=e.children[t];i.com.setActive(!0),null!==this.lastActiveThumb&&this.lastActiveThumb.setActive(!1),this.lastActiveThumb=i.com},i.prototype.getTotalSet=function(){return this.totalSet=Math.floor(this.totalItems/this.visibleThumbs),this.totalItems%this.visibleThumbs>0&&this.totalSet++,this.totalSet},i.prototype.getSetLength=function(){return this.visibleThumbs*this.mviewer.dopt.thumbnailSize},i.prototype.next=function(){this.getTotalSet();this.currentSet<this.totalSet-1?this.target(this.currentSet+1):this.target(this.totalSet-1)},i.prototype.prev=function(){this.currentSet>0?this.target(this.currentSet-1):this.target(0)},i.prototype.removeAll=function(){for(;this.containerInner.firstChild;){var t=this.containerInner.firstChild;t.com.dispose(),this.containerInner.removeChild(t)}},i.prototype.show=function(){var t=this.mviewer.dopt.showDuration;this.el.style.display="block",anime({targets:this.el,translateY:["100%","0%"],duration:t,easing:"easeOutQuint"})},i.prototype.hide=function(){var t=this.mviewer.dopt.hideDuration;anime({targets:this.el,translateY:"100%",duration:t,easing:"easeOutQuint"})},i}),function(t,e,s){"use strict";"undefined"!=typeof module&&module.exports?module.exports=s(e,t):"function"==typeof i&&i.amd?i("libs/audio5.min",[],function(){return s(e,t)}):t[e]=s(e,t)}(window,"Audio5js",function(t,e){"use strict";function i(t){this.message=t}function s(t){var e,i={};for(e in t)"object"==typeof t[e]?i[e]=s(t[e]):i[e]=t[e];return i}var n=e.ActiveXObject;i.prototype=new Error;var o=function(t,e){var i,n=s(e);for(i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);return t},r=function(t,e){return o(t.prototype,e)},a={on:function(t,e,i){this.subscribe(t,e,i,!1)},one:function(t,e,i){this.subscribe(t,e,i,!0)},off:function(t,e){if(void 0!==this.channels[t]){var i,s;for(i=0,s=this.channels[t].length;i<s;i++)if(this.channels[t][i].fn===e){this.channels[t].splice(i,1);break}}},subscribe:function(t,e,i,s){void 0===this.channels&&(this.channels={}),this.channels[t]=this.channels[t]||[],this.channels[t].push({fn:e,ctx:i,once:s||!1})},trigger:function(t){if(this.channels&&this.channels.hasOwnProperty(t)){for(var e=Array.prototype.slice.call(arguments,1),i=[],s=[];this.channels[t].length>0;){var n=this.channels[t].shift();n.once||i.push(n),"function"==typeof n.fn&&s.push(n)}for(this.channels[t]=i;s.length>0;){var o=s.shift();o.fn.apply(o.ctx,e)}}}},h={flash_embed_code:function(e,i,s){var o=t+e,r='<param name="movie" value="'+i+"?playerInstanceNumber="+e+"&datetime="+s+'"/><param name="wmode" value="transparent"/><param name="allowscriptaccess" value="always" /></object>';return(n?'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1" height="1" id="'+o+'">':'<object type="application/x-shockwave-flash" data="'+i+"?playerInstanceNumber="+e+"&datetime="+s+'" width="1" height="1" id="'+o+'" >')+r},can_play:function(t){var e,i=document.createElement("audio");switch(t){case"mp3":e="audio/mpeg;";break;case"vorbis":e='audio/ogg; codecs="vorbis"';break;case"opus":e='audio/ogg; codecs="opus"';break;case"webm":e='audio/webm; codecs="vorbis"';break;case"mp4":e='audio/mp4; codecs="mp4a.40.5"';break;case"wav":e='audio/wav; codecs="1"'}if(void 0!==e){if("mp3"===t&&navigator.userAgent.match(/Android/i)&&navigator.userAgent.match(/Firefox/i))return!0;try{return!!i.canPlayType&&""!==i.canPlayType(e)}catch(t){return!1}}return!1},has_flash:function(){var t=!1;if(navigator.plugins&&navigator.plugins.length&&navigator.plugins["Shockwave Flash"])t=!0;else if(navigator.mimeTypes&&navigator.mimeTypes.length){var e=navigator.mimeTypes["application/x-shockwave-flash"];t=e&&e.enabledPlugin}else try{var i=new n("ShockwaveFlash.ShockwaveFlash");t="object"==typeof i}catch(t){}return t}(),embedFlash:function(i,s){var n=document.createElement("div");if(n.style.position="absolute",n.style.width="1px",n.style.height="1px",n.style.top="1px",document.body.appendChild(n),"object"==typeof e.swfobject){var o={playerInstance:"window."+t+"_flash.instances['"+s+"']"},r={allowscriptaccess:"always",wmode:"transparent"};n.innerHTML='<div id="'+t+s+'"></div>',swfobject.embedSWF(i+"?ts="+((new Date).getTime()+Math.random()),t+s,"1","1","9.0.0",null,o,r)}else{var a=(new Date).getTime()+Math.random();n.innerHTML=this.flash_embed_code(s,i,a)}return document.getElementById(s)},formatTime:function(t){var e=parseInt(t/3600,10)%24,i=parseInt(t/60,10)%60,s=parseInt(t%60,10),n=(i<10?"0"+i:i)+":"+(s<10?"0"+s:s);return e>0?(e<10?"0"+e:e)+":"+n:n}};h.use_flash=h.can_play("mp3");var l,d,c,u={playing:!1,vol:1,duration:0,position:0,load_percent:0,seekable:!1,ready:null},p=e[t+"_flash"]=e[t+"_flash"]||{instances:[]};d=function(){if(h.use_flash&&!h.has_flash)throw new Error("Flash Plugin Missing")},d.prototype={init:function(t){p.instances.push(this),this.id=p.instances.length-1,this.embed(t)},embed:function(t){h.embedFlash(t,this.id)},eiReady:function(){this.audio=document.getElementById(t+this.id),this.trigger("ready")},eiLoadStart:function(){this.trigger("loadstart")},eiLoadedMetadata:function(){this.trigger("loadedmetadata")},eiCanPlay:function(){this.trigger("canplay")},eiTimeUpdate:function(t,e,i){this.position=t,this.duration=e,this.seekable=i,this.trigger("timeupdate",t,this.seekable?e:null)},eiProgress:function(t,e,i){this.load_percent=t,this.duration=e,this.seekable=i,this.trigger("progress",t)},eiLoadError:function(t){this.trigger("error",t)},eiPlay:function(){this.playing=!0,this.trigger("play"),this.trigger("playing")},eiPause:function(){this.playing=!1,this.trigger("pause")},eiEnded:function(){this.pause(),this.trigger("ended")},eiSeeking:function(){this.trigger("seeking")},eiSeeked:function(){this.trigger("seeked")},reset:function(){this.seekable=!1,this.duration=0,this.position=0,this.load_percent=0},load:function(t){this.reset(),this.audio.load(t)},play:function(){this.audio.pplay()},pause:function(){this.audio.ppause()},volume:function(t){if(void 0===t||isNaN(parseInt(t,10)))return this.vol;this.audio.setVolume(t),this.vol=t},seek:function(t){try{this.audio.seekTo(t),this.position=t}catch(t){}},rate:function(){},destroyAudio:function(){this.audio&&(this.pause(),this.audio.parentNode.removeChild(this.audio),delete p.instances[this.id],p.instances.splice(this.id,1),delete this.audio)}},r(d,a),r(d,u),c=function(){},c.prototype={init:function(){this._rate=1,this.trigger("ready")},createAudio:function(){this.audio=new Audio,this.audio.autoplay=!1,this.audio.preload="auto",this.audio.autobuffer=!0,this.audio.playbackRate=this._rate,this.bindEvents()},destroyAudio:function(){if(this.audio){this.pause(),this.unbindEvents();try{this.audio.setAttribute("src","")}finally{delete this.audio}}},setupEventListeners:function(){this.listeners={loadstart:this.onLoadStart.bind(this),canplay:this.onLoad.bind(this),loadedmetadata:this.onLoadedMetadata.bind(this),play:this.onPlay.bind(this),playing:this.onPlaying.bind(this),pause:this.onPause.bind(this),ended:this.onEnded.bind(this),error:this.onError.bind(this),timeupdate:this.onTimeUpdate.bind(this),seeking:this.onSeeking.bind(this),seeked:this.onSeeked.bind(this)}},bindEvents:function(){void 0===this.listeners&&this.setupEventListeners(),this.audio.addEventListener("loadstart",this.listeners.loadstart,!1),this.audio.addEventListener("canplay",this.listeners.canplay,!1),this.audio.addEventListener("loadedmetadata",this.listeners.loadedmetadata,!1),this.audio.addEventListener("play",this.listeners.play,!1),this.audio.addEventListener("playing",this.listeners.playing,!1),this.audio.addEventListener("pause",this.listeners.pause,!1),this.audio.addEventListener("ended",this.listeners.ended,!1),this.audio.addEventListener("error",this.listeners.error,!1),this.audio.addEventListener("timeupdate",this.listeners.timeupdate,!1),this.audio.addEventListener("seeking",this.listeners.seeking,!1),this.audio.addEventListener("seeked",this.listeners.seeked,!1)},unbindEvents:function(){this.audio.removeEventListener("loadstart",this.listeners.loadstart),this.audio.removeEventListener("canplay",this.listeners.canplay),this.audio.removeEventListener("loadedmetadata",this.listeners.loadedmetadata),this.audio.removeEventListener("play",this.listeners.play),this.audio.removeEventListener("playing",this.listeners.playing),this.audio.removeEventListener("pause",this.listeners.pause),this.audio.removeEventListener("ended",this.listeners.ended),this.audio.removeEventListener("error",this.listeners.error),this.audio.removeEventListener("timeupdate",this.listeners.timeupdate),this.audio.removeEventListener("seeking",this.listeners.seeking),this.audio.removeEventListener("seeked",this.listeners.seeked)},onLoadStart:function(){this.trigger("loadstart")},onLoad:function(){if(!this.audio)return setTimeout(this.onLoad.bind(this),100);this.seekable=this.audio.seekable&&this.audio.seekable.length>0,this.seekable&&(this.timer=setInterval(this.onProgress.bind(this),250)),this.trigger("canplay")},onLoadedMetadata:function(){this.trigger("loadedmetadata")},onPlay:function(){this.playing=!0,this.trigger("play")},onPlaying:function(){this.playing=!0,this.trigger("playing")},onPause:function(){this.playing=!1,this.trigger("pause")},onEnded:function(){this.playing=!1,this.trigger("ended")},onTimeUpdate:function(){if(this.audio&&this.playing){try{this.position=this.audio.currentTime,this.duration=this.audio.duration===1/0?null:this.audio.duration}catch(t){}this.trigger("timeupdate",this.position,this.duration)}},onProgress:function(){this.audio&&null!==this.audio.buffered&&this.audio.buffered.length&&(this.duration=this.audio.duration===1/0?null:this.audio.duration,this.load_percent=parseInt(this.audio.buffered.end(this.audio.buffered.length-1)/this.duration*100,10),this.trigger("progress",this.load_percent),this.load_percent>=100&&this.clearLoadProgress())},onError:function(t){this.trigger("error",t)},onSeeking:function(){this.trigger("seeking")},onSeeked:function(){this.trigger("seeked")},clearLoadProgress:function(){void 0!==this.timer&&(clearInterval(this.timer),delete this.timer)},reset:function(){this.clearLoadProgress(),this.seekable=!1,this.duration=0,this.position=0,this.load_percent=0},load:function(t){this.reset(),this.trigger("pause"),void 0===this.audio&&this.createAudio(),this.audio.setAttribute("src",t),this.audio.load()},play:function(){if(this.audio){var t=this.audio.play();return this.audio.playbackRate=this._rate,t}},pause:function(){this.audio&&this.audio.pause()},volume:function(t){if(void 0===t||isNaN(parseInt(t,10)))return this.vol;var e=t<0?0:Math.min(1,t);this.audio.volume=e,this.vol=e},seek:function(t){var e=this.playing;this.position=t,this.audio.currentTime=t,e?this.play():null!==this.audio.buffered&&this.audio.buffered.length&&this.trigger("timeupdate",this.position,this.duration)},rate:function(t){if(void 0===t||isNaN(parseFloat(t)))return this._rate;this._rate=t,this.audio&&(this.audio.playbackRate=t)}},r(c,a),r(c,u);var m={swf_path:"/swf/audiojs.swf",throw_errors:!0,format_time:!0,codecs:["mp3"]};return l=function(t){t=t||{};var e;for(e in m)m.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=m[e]);this.init(t)},l.can_play=function(t){return h.can_play(t)},l.prototype={init:function(t){this.ready=!1,this.settings=t,this.audio=this.getPlayer(),this.bindAudioEvents(),this.settings.use_flash?this.audio.init(t.swf_path):this.audio.init()},getPlayer:function(){var t,e,i,s;if(this.settings.use_flash)i=new d,this.settings.player={engine:"flash",codec:"mp3"};else{for(t=0,e=this.settings.codecs.length;t<e;t++)if(s=this.settings.codecs[t],l.can_play(s)){i=new c,this.settings.use_flash=!1,this.settings.player={engine:"html",codec:s};break}void 0===i&&(this.settings.use_flash=!l.can_play("mp3"),i=this.settings.use_flash?new d:new c,this.settings.player={engine:this.settings.use_flash?"flash":"html",codec:"mp3"})}return i},bindAudioEvents:function(){this.audio.on("ready",this.onReady,this),this.audio.on("loadstart",this.onLoadStart,this),this.audio.on("loadedmetadata",this.onLoadedMetadata,this),this.audio.on("play",this.onPlay,this),this.audio.on("pause",this.onPause,this),this.audio.on("ended",this.onEnded,this),this.audio.on("canplay",this.onCanPlay,this),this.audio.on("timeupdate",this.onTimeUpdate,this),this.audio.on("progress",this.onProgress,this),this.audio.on("error",this.onError,this),this.audio.on("seeking",this.onSeeking,this),this.audio.on("seeked",this.onSeeked,this)},unbindAudioEvents:function(){this.audio.off("ready",this.onReady),this.audio.off("loadstart",this.onLoadStart),this.audio.off("loadedmetadata",this.onLoadedMetadata),this.audio.off("play",this.onPlay),this.audio.off("pause",this.onPause),this.audio.off("ended",this.onEnded),this.audio.off("canplay",this.onCanPlay),this.audio.off("timeupdate",this.onTimeUpdate),this.audio.off("progress",this.onProgress),this.audio.off("error",this.onError),this.audio.off("seeking",this.onSeeking),this.audio.off("seeked",this.onSeeked)},load:function(t){var e=this,i=function(t){e.audio.load(t),e.trigger("load")};this.ready?i(t):this.on("ready",i)},play:function(){if(!this.playing)return this.audio.play()},pause:function(){this.playing&&this.audio.pause()},playPause:function(){this[this.playing?"pause":"play"]()},volume:function(t){if(void 0===t||isNaN(parseInt(t,10)))return this.vol;this.audio.volume(t),this.vol=t},seek:function(t){this.audio.seek(t),this.position=t},rate:function(t){return this.audio.rate(t)},destroy:function(){this.unbindAudioEvents(),this.audio.destroyAudio()},onReady:function(){this.ready=!0,"function"==typeof this.settings.ready&&this.settings.ready.call(this,this.settings.player),this.trigger("ready")},onLoadStart:function(){this.trigger("loadstart")},onLoadedMetadata:function(){this.trigger("loadedmetadata")},onPlay:function(){this.playing=!0,this.trigger("play")},onPause:function(){this.playing=!1,this.trigger("pause")},onEnded:function(){this.playing=!1,this.trigger("ended")},onError:function(){var t=new i("Audio Error. Failed to Load Audio");if(this.settings.throw_errors)throw t;this.trigger("error",t)},onCanPlay:function(){this.trigger("canplay")},onSeeking:function(){this.trigger("seeking")},onSeeked:function(){this.trigger("seeked")},onTimeUpdate:function(t,e){this.position=this.settings.format_time?h.formatTime(t):t,this.duration=this.settings.format_time&&null!==e?h.formatTime(e):e,this.trigger("timeupdate",this.position,this.duration)},onProgress:function(t){this.duration=this.audio.duration,this.load_percent=t,this.trigger("progress",t)}},r(l,a),r(l,u),l}),i("rs/media/AudioPlayer",["rs/utils/BrowserUtil","rs/utils/ObjectUtil","libs/audio5.min"],function(t,e,i){"use strict";function s(t){this.build(t)}var n="rs-med-icon-play",o="rs-med-icon-sound",r=30;return Object.defineProperties(s.prototype,{width:{get:function(){return this._width},set:function(t){this._width=t}},height:{get:function(){return this._height},set:function(t){this._height=t}}}),s.prototype.build=function(t){var s={width:300,height:200,visual:!0,visualBg:"#333333",visualColor:"#ffcc00"};e.merge(t,s),this.dopt=s,this.root=this.el=document.createElement("div"),this.root.className="rs-audioplayer",this.buildTitle(),this.buildVisualizer(),this.buildControls();var n=this;this.isPlaying=!1,this.au=new i({ready:function(){this.on("play",function(){n.aCtx||n.initAnalyser(),n.ana&&n.render()},this),this.on("pause",function(){},this),this.on("ended",function(){n.pp.setPlay(),n.pbar.setValue(0)},this),this.on("timeupdate",function(t,e){n.ana||n.renderNumber(t),n.updateProgress()},this)}}),this.pp.el.addEventListener("click",function(t){n.au.playing?n.pause():n.play()}),this.sbtn.el.addEventListener("click",function(t){t.target.classList.contains("rs-med-icon-sound-mute")?n.unmute():n.mute()});var o=this.pbar.barWidth;this.pbar.bar.addEventListener("click",function(t){var e=t.offsetX/o;n.seek(e)})},s.prototype.buildControls=function(){function t(){this.el=document.createElement("span"),this.el.classList.add("ap-button",n);var t=this.el.style;t.width=t.height=t.lineHeight=h+"px",t.fontSize=l+"px"}function e(){this.el=document.createElement("div"),this.el.classList.add("progressBar"),this.bar=document.createElement("div"),this.bar.classList.add("bar"),this.barInner=document.createElement("div"),this.barInner.classList.add("barInner"),this.el.appendChild(this.bar),this.bar.appendChild(this.barInner),this.width=a.width-2*r;var t=this.el.style;t.height=r+"px",t.width=this.width+"px",t.left=r+"px";var e=.5*(r-4),i=this.barWidth=this.width-12,s=this.bar.style,n=this.barInner.style;s.position=n.position="absolute",s.top=e+"px",s.left="6px",s.height="4px",s.width=i+"px",n.height="4px"}function i(){this.el=document.createElement("div"),this.el.classList.add("ap-button",o);var t=this.el.style;t.width=t.height=t.lineHeight=h+"px",t.fontSize=l+"px",t.left=a.width-r+"px"}var s=this.ctl=document.createElement("div");s.className="ap-controls",this.root.appendChild(s);var a=this.dopt,h=r,l=Math.round(.5*h);t.prototype.setPlay=function(){this.el.classList.remove("rs-med-icon-pause"),this.el.classList.add(n)},t.prototype.setPause=function(){this.el.classList.remove(n),this.el.classList.add("rs-med-icon-pause")},t.prototype.toggle=function(){this.el.classList.contains(n)?this.setPause():this.setPlay()};var d=this.pp=new t;s.appendChild(d.el),e.prototype.setValue=function(t){this.value=t,this.barInner.style.width=100*t+"%"},e.prototype.getValue=function(){return this.value};var c=this.pbar=new e;s.appendChild(c.el),i.prototype.mute=function(){this.el.classList.remove(o),this.el.classList.add("rs-med-icon-sound-mute")},i.prototype.unmute=function(){this.el.classList.add(o),this.el.classList.remove("rs-med-icon-sound-mute")};var u=this.sbtn=new i;s.appendChild(u.el)},s.prototype.buildTitle=function(){var t=this.title=document.createElement("div");t.className="ap-title",t.innerHTML="Item Title";var e=this.dopt;t.style.width=e.width+"px",this.root.appendChild(t)},s.prototype.buildVisualizer=function(){var t=this.vis=document.createElement("canvas");this.vctx=this.vis.getContext("2d");t.className="ap-vis";var e=this.dopt;t.width=this.vwidth=e.width,t.height=this.vheight=e.height-r,this.root.appendChild(t)},s.prototype.initAnalyser=function(){if(this.dopt.visual&&!t.isMobile()&&"Safari"!==t.browserName&&(window.AudioContext||window.webkitAudioContext)){var e=window.AudioContext||window.webkitAudioContext,i=new e,s=i.createMediaElementSource(this.au.audio.audio),n=i.createAnalyser();s.connect(n),s.connect(i.destination),n.fftSize=512;var o=n.frequencyBinCount,r=new Uint8Array(o);this.aCtx=i,this.aSrc=s,this.ana=n,this.bufferLength=o,this.dataArray=r}},s.prototype.load=function(t){this.src=t,this.au.load(t)},s.prototype.play=function(t){void 0!==t?(this.load(t),this.au.play(t)):this.au.play(),this.pp.setPause()},s.prototype.pause=function(){this.au.pause(),this.au.playing=!1,cancelAnimationFrame(this.renderId),this.pp.setPlay()},s.prototype.stop=function(){this.au.pause()},s.prototype.reset=function(){var t=this.vwidth,e=this.vheight;this.au.pause(),this.pbar.setValue(0),this.pp.setPlay(),this.sbtn.unmute();var i=this.vctx;i.fillStyle=this.dopt.visualBg,i.fillRect(0,0,t,e)},s.prototype.mute=function(){this.au.volume(0),this.sbtn.mute()},s.prototype.unmute=function(){this.au.volume(1),this.sbtn.unmute()},s.prototype.resize=function(t){},s.prototype.setTitle=function(t){this.title.innerHTML=t},s.prototype.seek=function(t){this.au.playing&&this.au.seek(t*this.au.audio.duration)},s.prototype.updateProgress=function(){var t=this.au.audio.audio,e=t.currentTime,i=t.duration;this.pbar.setValue(e/i)},s.prototype.render=function(){this.bufferLength=100;var t=this.vwidth,e=this.vheight,i=this.vctx;i.fillStyle=this.dopt.visualBg,i.fillRect(0,0,t,e);var s=this.dataArray;this.ana.getByteFrequencyData(s);for(var n,o=t/this.bufferLength*2.5,r=0,a=0;a<this.bufferLength;a++)n=.75*s[a],i.fillStyle=this.dopt.visualColor,i.fillRect(r,e-.75*n,o,n),r+=o+1;this.renderId=window.requestAnimationFrame(this.render.bind(this))},s.prototype.renderNumber=function(t){var e=this.vwidth,i=this.vheight,s=this.vctx;s.fillStyle=this.dopt.visualBg,s.fillRect(0,0,e,i),s.font="60px Open Sans Light",s.fillStyle="#eeeeee",s.textAlign="center",s.textBaseline="middle",s.fillText(t,.5*e,.5*i)},s.prototype.selfCenter=function(){var e=t.computeStyle(this.el,"width"),i=t.computeStyle(this.el,"height");this.el.style.marginTop=.5*-i+"px",this.el.style.marginLeft=.5*-e+"px"},s}),i("rs/media/VideoPlayer",["rs/utils/ObjectUtil"],function(t){"use strict";function e(t){this.build(t)}return e.prototype.build=function(e){var i={width:400,height:300,id:"rsVideoPlayer",dataSetup:{}};t.merge(e,i),this.dopt=i,this.dataSetup=i.dataSetup;var s=this.el=document.createElement("video");s.id=this.id=i.id,s.className="video-js",s.controls=!0,s.preload="auto",s.width=i.width,s.height=i.height;var n=document.createElement("p");n.className="vjs-no-js",n.innerHTML=' To view this video please enable JavaScript, and consider upgrading to a web browser that<a href="https://videojs.com/html5-video-support/" target="_blank" >supports HTML5 video</a>',s.appendChild(n)},Object.defineProperties(e.prototype,{width:{get:function(){return this.player?this.player.width():null},set:function(t){this.player&&this.player.width(t)}},height:{get:function(){return this.player?this.player.height():null},set:function(t){this.player&&this.player.height(t)}}}),e.prototype.show=function(t){this.player?t.appendChild(this.player.el()):(t.appendChild(this.el),this.player=videojs(this.el,this.dataSetup)),this.player.el().style.display="block",this.isHidden=!1},e.prototype.hide=function(){if(this.player){this.player.el().style.display="none",this.isHidden=!0}},e.prototype.dispose=function(){this.player&&this.player.dispose()},e.prototype.src=function(t){this.player&&this.player.src(t)},e.prototype.selfCenter=function(){if(this.player){var t=this.player.width(),e=this.player.height(),i=this.player.el();i.style.marginTop=.5*-e+"px",i.style.marginLeft=.5*-t+"px"}},e.prototype.poster=function(t){this.player&&this.player.poster(t)},e.prototype.resize=function(t,e){this.width=t,this.height=e},e.prototype.toString=function(){return"VideoPlayer"},e}),i("rs/media/MediaViewerDialog",["rs/utils/BrowserUtil","rs/media/MediaViewer","rs/media/AudioPlayer","rs/media/VideoPlayer"],function(t,e,i,s){"use strict";function n(t,e){this.mviewer=t,this.callback=e,this.lastItemId=-1,this.build()}function o(e,i,s){var n=e.root,o=e.mbar.el,r=e.des.el,a=t.computeStyle(n,"height"),h=t.computeStyle(n,"width"),l=t.computeStyle(o,"height"),d=t.computeStyle(r,"height"),c=h,u=a-l-d,p=i,m=s,f=1;if(i>c||s>u){f=e.dopt.scaleFactor;var g=i/s;c/g<=u?(p=c*f,m=p/g):(m=u*f,p=m*g)}return[p,m]}function r(t,e,i){this.dialog=t;var s=this.el=document.createElement("div");s.className="rs-med-general-content";var n=s.style;n.width=e+"px",n.height=i+"px",n.marginTop=.5*-i+"px",n.marginLeft=.5*-e+"px"}return n.PHOTO_TYPE="photo",n.AUDIO_TYPE="audio",n.VIDEO_TYPE="video",n.EMBED_TYPE="embed",n.AJAX_TYPE="ajax",n.INLINE_TYPE="inline",n.prototype.build=function(){var t=this.mviewer.dopt,e=this.el=document.createElement("div");e.className="rs-mediaviewer-dialog",e.style.display="none",this.mviewer.dopt.modal&&(e.style.width=e.style.height="auto");var n=this.c0=document.createElement("div");n.className="dialog-content",n.id="con0",e.appendChild(n);var o=this.c1=document.createElement("div");o.className="dialog-content",o.id="con1",e.appendChild(o),n.next=o,o.next=n,this.con=n,this.ap=new i(t.audioPlayerOpt),this.vp=new s(t.videoPlayerOpt);var a=t.videoPlayerOpt.width,h=t.videoPlayerOpt.height;this.vp.oWidth=a,this.vp.oHeight=h,this.genCon=new r(this,t.containerWidth,t.containerHeight),this.genCon.oWidth=t.containerWidth,this.genCon.oHeight=t.containerHeight},n.prototype.show=function(){var t=this.mviewer.dopt.showDuration;this.mviewer.root,this.mviewer.dopt.modal;this.el.style.display="block",anime({targets:this.con,opacity:[0,1],duration:t,easing:"easeOutQuint",complete:function(){}})},n.prototype.hide=function(){var t=this.mviewer.dopt.hideDuration,e=this.mviewer.root;this.reset(),anime({targets:this.con,opacity:0,duration:t,easing:"easeOutQuint",complete:function(t){e.style.display="none"}})},n.prototype.setContent=function(t,e){function i(t,i,o){function r(e){var i=e.target;i.oWidth=i.width,i.oHeight=i.height,s.applyPhotoConstraints(i),t.appendChild(e.target),s.mviewer.isLoading=!1,s.callback.call(s.mviewer)}function h(){t.appendChild(a.el),s.mviewer.dopt.ajaxProcessor(a.el,this),s.applyGeneralConstraints(),s.mviewer.isLoading=!1,s.callback.call(s.mviewer)}switch(t.type=o,o){case n.PHOTO_TYPE:var c=document.createElement("img");s.mviewer.isLoading=!0,c.onload=r,c.src=i,c.draggable=!1;break;case n.AUDIO_TYPE:t.appendChild(l.el),l.setTitle(e.content),l.play(i),l.selfCenter(),s.callback.call(s.mviewer);break;case n.VIDEO_TYPE:d.show(t),d.src(e.src),d.selfCenter(),"string"==typeof e.poster&&d.poster(e.poster),s.applyVideoConstraints(),s.callback.call(s.mviewer);break;case n.AJAX_TYPE:var u=new XMLHttpRequest;s.mviewer.isLoading=!0,u.addEventListener("load",h),u.open("GET",e.src),u.send();break;case n.EMBED_TYPE:t.appendChild(a.el),a.dispose(),a.el.innerHTML=e.src,s.applyEmbedConstraints(),s.callback.call(s.mviewer);break;case n.INLINE_TYPE:var p=document.getElementById(e.src);t.appendChild(a.el),a.dispose(),a.el.innerHTML=p.innerHTML,s.applyGeneralConstraints(),s.callback.call(s.mviewer)}}var s=this,o=this.mviewer.dopt.modal,r=(s.c0,s.c1,s.con),a=s.genCon,h=r.next,l=this.ap,d=this.vp,c=e.src,u=e.type;switch(this.con.type){case n.AUDIO_TYPE:this.ap.pause();break;case n.VIDEO_TYPE:this.vp.player.pause()}this.lastItemId<t?function(){s.disposeContent(h),o&&(s.disposeContent(r),anime({targets:s.el,opacity:[0,1],easing:"easeOutQuint",duration:1e3})),i(h,c,u),o?s.mviewer.inTransition=!1:(r.style.left="50%",h.style.left="150%",anime({targets:s.el,duration:s.mviewer.dopt.showDuration,easing:"easeOutQuint",translateX:["0%","-100%"],complete:function(){s.mviewer.inTransition=!1}})),s.con=h}():function(){s.disposeContent(h),o&&(s.disposeContent(r),anime({targets:s.el,opacity:[0,1],easing:"easeOutQuint",duration:1e3})),i(h,c,u),o?s.mviewer.inTransition=!1:(r.style.left="50%",h.style.left="-50%",anime({targets:s.el,duration:s.mviewer.dopt.showDuration,easing:"easeOutQuint",translateX:["0%","100%"],complete:function(){s.mviewer.inTransition=!1}})),s.con=h}(),this.lastItemId=t},n.prototype.applyPhotoConstraints=function(t){if(t){var e=o(this.mviewer,t.oWidth,t.oHeight),i=e[0],s=e[1];t.width=i,t.height=s,t.style.marginLeft=.5*-i+"px",t.style.marginTop=.5*-s+"px"}},n.prototype.applyVideoConstraints=function(){var t=o(this.mviewer,this.vp.oWidth,this.vp.oHeight),e=t[0],i=t[1];this.vp.width=e,this.vp.height=i,this.vp.selfCenter()},n.prototype.applyGeneralConstraints=function(){var t=o(this.mviewer,this.genCon.oWidth,this.genCon.oHeight),e=t[0],i=t[1];this.genCon.width=e,this.genCon.height=i,this.genCon.selfCenter()},n.prototype.applyEmbedConstraints=function(){var t=o(this.mviewer,this.genCon.oWidth,this.genCon.oHeight),e=t[0],i=t[1];console.log(t),this.genCon.width=e,this.genCon.height=i;var s=this.genCon.el.firstChild;s.width=e,s.height=i-10,this.genCon.selfCenter()},n.prototype.disposeContent=function(t){switch(t.type){case n.PHOTO_TYPE:if(t.firstChild){var e=t.firstChild;t.removeChild(e),e=null}break;case n.AUDIO_TYPE:this.ap.pause(),t.firstChild&&t.removeChild(t.firstChild);break;case n.VIDEO_TYPE:this.vp.player.pause(),t.firstChild&&t.removeChild(t.firstChild);break;case n.AJAX_TYPE:case n.EMBED_TYPE:case n.INLINE_TYPE:this.genCon.dispose(),t.firstChild&&t.removeChild(t.firstChild)}t.type=null},n.prototype.resize=function(){function t(t){switch(t.type){case n.PHOTO_TYPE:e.applyPhotoConstraints(t.firstChild);break;case n.VIDEO_TYPE:
e.applyVideoConstraints();break;case n.AJAX_TYPE:case n.INLINE_TYPE:e.applyGeneralConstraints();break;case n.EMBED_TYPE:e.applyEmbedConstraints()}}var e=(this.c0,this.c1,this);t(this.c0),t(this.c1)},n.prototype.reset=function(){this.disposeContent(this.c0),this.disposeContent(this.c1),this.con=this.c0},Object.defineProperties(r.prototype,{width:{get:function(){return t.computeStyle(this.el,"width")},set:function(t){this.el.style.width=t+"px"}},height:{get:function(){return t.computeStyle(this.el,"height")},set:function(t){this.el.style.height=t+"px"}}}),r.prototype.dispose=function(){this.el.textContent=""},r.prototype.selfCenter=function(){var e=t.computeStyle(this.el,"width"),i=t.computeStyle(this.el,"height");this.el.style.marginTop=.5*-i+"px",this.el.style.marginLeft=.5*-e+"px"},n}),i("rs/media/MediaViewerDescription",[],function(){"use strict";function t(t){this.mviewer=t,this.build()}return t.prototype.build=function(t){var e=this.el=document.createElement("div");e.className="rs-mediaviewer-description",e.style.display="none"},t.prototype.setDescription=function(t){this.el.innerHTML=t},t.prototype.show=function(){var t=this.mviewer.dopt.showDuration;this.el.style.display="block",anime({targets:this.el,translateY:["-100%","0%"],duration:t,easing:"easeOutQuint"})},t.prototype.hide=function(){var t=this.mviewer.dopt.hideDuration;anime({targets:this.el,translateY:"-100%",duration:t,easing:"easeOutQuint"})},t}),i("rs/media/MediaViewerControl",["rs/utils/BrowserUtil"],function(t){"use strict";function e(t){this.mviewer=t,this.build()}return e.prototype.build=function(){var t=this.el=document.createElement("div");t.className="rs-mediaviewer-controls",t.style.display="none";var e=this.closeBtn=document.createElement("span");e.className="rs-mediaviewer-controlBtn rs-med-icon-close",t.appendChild(e);var i=this.nextBtn=document.createElement("span");i.className="rs-mediaviewer-controlBtn rs-med-icon-arrow-right",t.appendChild(i);var s=this.preBtn=document.createElement("span");s.className="rs-mediaviewer-controlBtn rs-med-icon-arrow-left",t.appendChild(s)},e.prototype.show=function(){this.el.style.display="block",this.align()},e.prototype.hide=function(){this.el.style.display="none"},e.prototype.align=function(){var e=this.mviewer.root,i=(this.mviewer.mbar.el,this.mviewer.des.el),s=(t.computeStyle(e,"height"),t.computeStyle(e,"width"),t.computeStyle(this.closeBtn,"fontSize")),n=t.computeStyle(i,"height"),o=this.closeBtn.style;o.top=n+6+"px",o.left="10px";var r=this.preBtn.style;r.top="50%",r.left="4px",r.marginTop=.5*-s+"px";var a=this.nextBtn.style;a.top="50%",a.right="4px",a.marginTop=.5*-s+"px"},e}),i("rs/media/MediaViewer",["rs/utils/ObjectUtil","rs/utils/BrowserUtil","rs/ui/RingPreloader","rs/media/MediaViewerEvent","rs/media/MediaViewerBar","rs/media/MediaViewerDialog","rs/media/MediaViewerDescription","rs/media/MediaViewerControl"],function(t,e,i,s,n,o,r,a){"use strict";function h(e,i){this.dopt={containerWidth:600,containerHeight:350,scaleFactor:.8,showDuration:900,hideDuration:350,maxVisibleThumbnail:12,useKeyboard:!0,thumbnailSize:40,easing:"easeOutQuint",modal:!1,ajaxProcessor:function(t,e){t.innerText=e.responseText},audioPlayerOpt:{width:300,height:200,visual:!0,visualBg:"#333333",visualColor:"#ffff00"},videoPlayerOpt:{width:500,height:350,id:"mvVideoPlayer",dataSetup:{}}},i=i||{},t.merge(i,this.dopt),this.build(e,i),this.dopt.useKeyboard&&this.initKeyboard(),this.initPreloader();var s=this;window.addEventListener("resize",function(t){s.resize()}),this.state=h.CLOSE_STATE,this.cidx=-1,this.ccidx=-1}e.getPrefix();return h.CLOSE_STATE=0,h.OPEN_STATE=1,h.prototype.parse=function(t){return[]},h.prototype.initPreloader=function(){var t=new i({borderColor:"#ccc"}),e=t.el;this.preloader=e},h.prototype._showPreloader=function(){this.root.appendChild(this.preloader)},h.prototype._hidePreloader=function(){this.root.removeChild(this.preloader)},h.prototype.initKeyboard=function(){var t=this;window.addEventListener("keyup",function(e){if(t.state!==h.CLOSE_STATE)switch(String(e.keyCode)){case"39":t.next(),e.preventDefault();break;case"37":t.prev(),e.preventDefault();break;case"27":t.hide(),e.preventDefault()}})},h.prototype.build=function(t,e){function i(t){this._hidePreloader()}var s=(this.root=document.createElement("div"),this);if(void 0===t.firstChild){this.root=document.createElement("div"),this.root.className="rs-mediaviewer",this.data=t;for(var h=0;h<t.length;h++)for(var l=t[h].items,d=0;d<l.length;d++)l[d].index=d}else this.root=t,this.data=this.parse(t);this.dopt.modal&&(this.root.style.background="none",this.root.style.width=this.root.style.height="auto"),this.des=new r(this),this.root.appendChild(this.des.el),this.dialog=new o(this,i),this.root.appendChild(this.dialog.el),this.mbar=new n(this),this.root.appendChild(this.mbar.el),this.ctl=new a(this),this.ctl.closeBtn.onclick=function(t){s.hide()},this.ctl.nextBtn.onclick=function(t){s.next()},this.ctl.preBtn.onclick=function(t){s.prev()},this.root.appendChild(this.ctl.el)},h.prototype.target=function(t){if("number"==typeof t)this.doTarget(t);else{var e=parseInt(t.split(":")[0],10),i=parseInt(t.split(":")[1],10),s=this.ccidx===e;this.ccidx=e,this.doTarget(i,s)}},h.prototype.doTarget=function(t,e){if(!(this.inTransition||this.isLoading||t===this.cidx&&e)){var i=this.data[this.ccidx].items;if(t<i.length&&t>=0){t===i.length-1?this.ctl.nextBtn.style.display="none":this.ctl.nextBtn.style.display="block",this.root.dispatchEvent(new CustomEvent(s.TARGET,{detail:{catId:this.ccidx,id:t}})),this.inTransition=!0,this.cidx=t;var n=i[t];this._showPreloader(),this.state===h.CLOSE_STATE&&this.show(),this.mbar.currentCatId!==this.ccidx&&this.mbar.loadThumbnails(this.ccidx),this.des.setDescription(i[this.cidx].description),this.dialog.setContent(t,n),this.ctl.align(),this.mbar.targetItem(t)}}},h.prototype.show=function(){document.body.appendChild(this.root),this.root.style.display="block",this.state=h.OPEN_STATE,this.dialog.show(),this.dopt.modal||(this.mbar.setVisibleArea(),this.mbar.show(),this.des.show(),this.ctl.show())},h.prototype.hide=function(){this.isLoading||this.inTransition||(this.state=h.CLOSE_STATE,this.ctl.hide(),this.mbar.hide(),this.des.hide(),this.dialog.hide(),this.cidx=-1,this.ccidx=-1,this.dialog.lastItemId=-1,this.inTransition=!1,this.root.dispatchEvent(new CustomEvent(s.EXIT)))},h.prototype.next=function(){this.target(this.cidx+1)},h.prototype.prev=function(){this.target(this.cidx-1)},h.prototype.addEventListener=function(t,e){this.root.addEventListener(t,e)},h.prototype.resize=function(t){this.mbar.setVisibleArea(),this.ctl.align(),this.dialog.resize()},h}),i("rs/sg3d/SphericalGallery",["rs/three/BaseApp","rs/sg3d/DataItem","rs/sg3d/SphericalGalleryState","rs/sg3d/SphericalGalleryControl","rs/sg3d/Gallery3d","rs/sg3d/Gallery2d","rs/sg3d/CategoryMenu","rs/sg3d/HCategoryMenu","rs/sg3d/ItemTitle","rs/sg3d/ItemDescription","rs/sg3d/FullscreenButton","rs/sg3d/BackButton","rs/sg3d/ZoomButton","rs/sg3d/Tooltip","rs/sg3d/ButtonNavigator","rs/media/MediaViewer","rs/media/MediaViewerEvent","rs/ui/RingPreloader","rs/utils/ObjectUtil","rs/utils/MouseUtil","rs/utils/BrowserUtil"],function(t,e,i,s,n,o,r,a,h,l,d,c,u,p,m,f,g,y,v,b,w){"use strict";function E(t,s){if(w.isMobile()?(T="touchstart",C="touchend",L="touchmove"):(T="mousedown",C="mouseup",L="mousemove"),this.defaultOptions={useFullscreen:!0,origins:[50,50],force2d:!1,sphereRadius:1500,hAngleSegment:24,vAngleSegment:15,itemExtrude:400,constraint:300,boxThickness:2,backImage:"assets/back.png",containerZ:-2500,control:"mousemove",mouseSpeedX:1,mouseSpeedY:1,useKeyboard:!0,useMousewheel:!0,zoomAmount:500,minZ:-1e3,maxZ:2e3,mouseDragSpeed:.05,tintColor:"#333333",itemTweenInMaxDelay:1500,itemTweenInDelayFactor:1,itemTweenInDuration:1e3,itemTweenInEasing:"easeOutQuint",itemTweenOutDuration:800,itemTweenOutEasing:"easeOutQuint",extrudeDuration:2e3,extrudeEasing:"easeOutBounce",targetDuration:1200,targetEasing:"easeOutQuint",returnDuration:1200,returnEasing:"easeOutQuint",easing:"easeOutQuad",duration:800,components:[1,2],categoryMenu:{horizontal:!1},tooltip:{enabled:!0},targetLink:"_blank",gal2d:{distance:200,borderStyle:"6px solid white",minScale:.5,maxScale:1,loop:!1,rangeCount:3,easing:"easeOutQuad",duration:2e3,roundCorner:8,circleShape:!1,itemShadow:"0px 10px 15px 5px #222",responsive:{XS:.7,SM:.75,MD:.85,LG:1,XL:1}},mediaviewer:{},responsive:{XS:-1200,SM:-650,MD:-350,LG:0,XL:0}},s=s||{},v.merge(s,this.defaultOptions),this.state=i.NORMAL,void 0===t.firstChild){this.root=document.createElement("div"),this.root.className="rs-sg3d",this.data=t;for(var n=0;n<t.length;n++)for(var o=t[n].items,r=0;r<o.length;r++){var a=o[r];a.index=r;var h=new e(this,a);o[r]=h}}else this.root=t,this.data=this.parse(t);this.root.style.position="relative",this.initComponents(),this.loadCategory(0);var l=this;window.addEventListener("resize",function(t){l.resize()}),this.root.style.display="block"}function x(t){t.state=i.NORMAL,t.bbtn.hide(),t.itemTitle.hide(),t.itemDes.hide(),t.bnav.hideAll(),t.gal.restorePosition(),t.categoryMenu.show()}var T,C,L,S=w.getPrefix();return E.prototype.initComponents=function(){function t(t){console.log("Load category: "+t),e.loadCategory(t)}var e=this,i=this.defaultOptions;i.categoryMenu.horizontal?this.categoryMenu=new a(this.data,t):this.categoryMenu=new r(this.data,t),this.root.appendChild(this.categoryMenu.el),"ms"===S||i.force2d?(i.gal2d.origins=i.origins,this.gal=new o(this.data,i.gal2d),this.is2d=!0):(this.gal=new n(this),this.gal.startRendering()),this.root.appendChild(this.gal.el),this.cc=document.createElement("div"),this.cc.className="rs-sg3d-ccontainer",this.root.appendChild(this.cc),function(){var t=[];i.components.forEach(function(i){if(void 0===t[i])switch(t[i]=1,i){case 1:e.itemTitle=new h,e.cc.appendChild(e.itemTitle.el);break;case 2:e.itemDes=new l,e.cc.appendChild(e.itemDes.el)}})}(),this.sbc=document.createElement("div"),this.sbc.className="rs-sg3d-sbc",this.root.appendChild(this.sbc),this.initPreloader(),i.useFullscreen&&!w.isMobile()&&this.initFullcreen(),this.initZoom(),this.is2d&&(i.tooltip.enabled=!1),i.tooltip.enabled&&this.initTooltip(),this.initBackButton(),this.initButtonNavigator(),i.control==s.MOUSEMOVE&&this.initMouseView(),i.control==s.MOUSEDRAG&&this.initMouseDrag(),i.useMousewheel&&this.initMousewheel(),i.useKeyboard&&this.initKeyboard(),setTimeout(function(){e.resize()},200),this.initMediaViewer()},E.prototype.initZoom=function(){var t=this;this.zbtn=new u(this),this.zbtn.el.addEventListener("click",function(e){t.is2d?t.target(t.gal.cidx,null,!0):t.target(t.gal.cidx,t.gal.getContainerLastIndex(),!0)}),this.root.appendChild(this.zbtn.el),this.zbtn.hide()},E.prototype.initTooltip=function(){this.tt=new p(this),this.root.appendChild(this.tt.el)},E.prototype.initMediaViewer=function(){var t=this;this.mviewer=new f(this.data,this.defaultOptions.mediaviewer),this.mviewer.addEventListener(g.EXIT,function(){t.is2d?t.state=i.NORMAL:t.state=i.TARGET})},E.prototype.initButtonNavigator=function(){function t(t){i.prev()}function e(t){i.next()}var i=this;this.bnav=new m(t,e),this.root.appendChild(this.bnav.lBtn),this.root.appendChild(this.bnav.rBtn),this.bnav.hideAll(),this.bnav.reAlign(this.defaultOptions.origins)},E.prototype.initMouseDrag=function(){function t(t){(l.is2d||l.state!=i.TARGET)&&(d.addEventListener(C,e),d.addEventListener(L,s),window.addEventListener(C,e),window.addEventListener("mouseout",e),l.is2d||l.gal.saveContainerRotation(),t.touches?(a=t.touches[0].clientX,h=t.touches[0].clientY):(a=t.clientX,h=t.clientY),n=a,r=o=l.gal.cidx,d.style.cursor="grabbing",l.gal.defaultCursor="grabbing",p=u=0)}function e(t){d.style.cursor="grab",l.gal.defaultCursor="grab",d.removeEventListener(C,e),d.removeEventListener(L,s),window.removeEventListener(C,e),window.removeEventListener("mouseout",e)}function s(t){var e,i;t.changedTouches?(e=1*(t.changedTouches[0].clientX-a),i=1*(t.changedTouches[0].clientY-h)):(e=1*(t.clientX-a),i=1*(t.clientY-h)),p+=e*c*5,u+=i*c*5,l.is2d||l.gal.spinContainer(-p*Math.PI/180,-u*Math.PI/180),t.changedTouches?(a=t.changedTouches[0].clientX,h=t.changedTouches[0].clientY):(a=t.clientX,h=t.clientY);var s=Math.floor((a-n)*c),d=o-s;d!==r&&(r=d,l.is2d&&l.target(d))}var n,o,r,a,h,l=this,d=this.gal.el,c=this.defaultOptions.mouseDragSpeed;d.style.cursor="grab",this.gal.defaultCursor="grab";var u,p;d.addEventListener(T,t)},E.prototype.initMouseView=function(){function t(t){var o=i.getBoundingClientRect(),r=(t.offsetX/o.width-.5)*s,a=(t.offsetY/o.height-.5)*n;e.is2d||e.gal.setSpeed(r,a)}var e=this,i=this.gal.el,s=this.defaultOptions.mouseSpeedX,n=this.defaultOptions.mouseSpeedY;e.is2d||this.gal.setSpeed(.25,0),i.addEventListener("mousemove",t)},E.prototype.initMousewheel=function(){function t(t){e.is2d||e.gal.container.zoom(t)}var e=this;b.startMouseWheel(this.root,t)},E.prototype.initKeyboard=function(){var t=this;window.addEventListener("keyup",function(e){switch(String(e.keyCode)){case"39":case"37":e.preventDefault();break;case"27":t.state!=i.TARGET||t.is2d||x(t),e.preventDefault()}})},E.prototype.initPreloader=function(){var t=new y({borderColor:"#ccc"}),e=t.el;this.preloader=e,e.style.top=this.defaultOptions.origins[1]+"%"},E.prototype.initFullcreen=function(){this.fsbtn=new d(this.root,function(t){console.log("Fullsceen Change")}),this.sbc.appendChild(this.fsbtn.el)},E.prototype.initBackButton=function(){var t=this;this.bbtn=new c(this.root,function(e){x(t)}),this.root.appendChild(this.bbtn.el),this.bbtn.hide()},E.prototype.parse=function(t){for(var i=[],s=this,n=t.firstElementChild;null!=n;){var o=[];!function(t,i){for(var n=t.getElementsByTagName("li"),o=0;o<n.length;o++){var r=n[o],a=r.getElementsByTagName("a")[0],h=r.getElementsByTagName("p")[0],l={title:a.title,content:a.innerHTML,description:void 0===h?"":h.innerHTML,src:a.href,index:o};if(a.dataset)if(l.type=a.dataset.type,l.thumbnail=a.dataset.thumbnail,l.link=a.dataset.link,"video"==l.type)if(a.dataset.poster&&(l.poster=a.dataset.poster),"["==a.dataset.extended[0]){var d=a.dataset.extended.replace(/'/g,'"');l.extended=JSON.parse(d)}else l.extended=a.dataset.extended;else l.extended=a.dataset.extended;var c=new e(s,l);i.push(c)}}(n,o),i.push({name:n.dataset.name,items:o}),t.removeChild(n),n=t.firstElementChild}return i},E.prototype.loadCategory=function(t){function e(){console.log("complete"),l.ccidx=t,l.cidx=0,h.is2d||(l.cidx=-1),h.showComponents(),h.root.dispatchEvent(new CustomEvent("cloadcomplete",{detail:t}))}function s(){h.target(this.index,this.cindex),h.categoryMenu.hide(),h.bbtn.show()}function n(t){var e=this;if(h.itemMouseOver=!0,a.tooltip.enabled&&h.state===i.NORMAL){if(void 0==h.gal.ccidx)return;h.tt.show(h.data[h.gal.ccidx].items[this.index].content,t.offsetX,t.offsetY)}e.index===h.gal.cidx&&(h.isLoading||h.state===i.DRAGGING||h.hasExtended(e.index)&&(anime.remove(h.zbtn.el),h.zbtn.show()))}function o(){var t=this;h.itemMouseOver=!1,t.index===h.gal.cidx&&anime({targets:h.zbtn.el,duration:1e3,easing:"easeOutQuad",opacity:0,complete:function(){h.zbtn.hide()}})}function r(){var i=this;h.is2d?(this.element.addEventListener("click",function(t){h.target(i.index,null,!0)}),this.element.addEventListener("mouseover",n.bind(i)),this.element.addEventListener("mouseout",o.bind(i))):(i.setClickHandler(s.bind(i)),i.setMouseOverHandler(n.bind(i))),++d,h.is2d&&d==h.data[t].items.length?e():d==h.gal.totalSphereItems&&e()}var a=this.defaultOptions,h=this,l=this.gal;this.isLoading=!0,this.root.dispatchEvent(new CustomEvent("cload",{detail:t})),this.hideComponents();var d=0;void 0!==l.catRef[l.ccidx]?l.close(function(){l.removeAll(),void 0==l.catRef[t]?(h.root.appendChild(h.preloader),l.buildGallery(t,h.data[t],r)):(l.addAll(t),e())}):(h.root.appendChild(h.preloader),l.buildGallery(t,this.data[t],r))},E.prototype.showComponents=function(){var t=this.defaultOptions,e=this.gal;e.catRef[e.ccidx];this.state=i.NORMAL,e.open(),this.root.contains(this.preloader)&&this.root.removeChild(this.preloader),this.categoryMenu.show(),t.categoryMenu.horizontal?this.categoryMenu.setActive(this.gal.ccidx):this.categoryMenu.setTopLabel(this.data[e.ccidx].name),sg3d.is2d&&(this.showTitle(0),this.showDescription(0)),this.sbc.style.display="block",this.isLoading=!1},E.prototype.hideComponents=function(){this.defaultOptions,this.gal;this.categoryMenu.hide(),this.zbtn.hide(),this.bnav.hideAll(),this.itemTitle&&this.itemTitle.hide(),this.itemDes&&this.itemDes.hide(),this.sbc.style.display="none"},E.prototype.showTitle=function(t){this.itemTitle&&this.itemTitle.show(this.data[this.gal.ccidx].items[t].content)},E.prototype.showDescription=function(t){this.itemDes&&this.itemDes.show(this.data[this.gal.ccidx].items[t].description)},E.prototype.target=function(t,e,s){if(!this.isLoading){var n=this.gal,o=n.dopt;n.catRef[n.ccidx];if(t>=0&&t<this.data[n.ccidx].items.length){var r=this.hasLink(t);if(t==n.cidx&&r&&this.state==i.TARGET)return void window.open(r,o.targetLink);if(sg3d.is2d){if(this.state=i.NORMAL,t==n.cidx&&this.hasExtended(t)&&s)return this.state=i.EXTENDED,void this.targetExtended(n.ccidx+":"+n.cidx)}else if(this.state=i.TARGET,t==n.cidx&&e==n.getContainerLastIndex()&&this.hasExtended(t)&&this.state==i.TARGET)return this.state=i.EXTENDED,w.exitFullscreen(this.root),void this.targetExtended(n.ccidx+":"+n.cidx);this.tt&&this.tt.hide(),this.showTitle(t),this.showDescription(t),n.target(t,e),this.root.dispatchEvent(new CustomEvent("target",{detail:t}))}}},E.prototype.targetExtended=function(t){this.mviewer.target(t)},E.prototype.next=function(){this.target(this.gal.cidx+1)},E.prototype.prev=function(){this.target(this.gal.cidx-1)},E.prototype.addEventListener=function(t,e){this.root.addEventListener(t,e)},E.prototype.resize=function(){this.is2d||this.gal.hide();var t=w.computeStyle,e=(this.defaultOptions,t(this.root,"borderTopWidth")),i=t(this.root,"width")-2*e,s=t(this.root,"height")-2*e;this.gal.resize(window.innerWidth,window.innerHeight,i,s)},E.prototype.hasExtended=function(t){return void 0!==this.data[this.gal.ccidx].items[t].extendedVal},E.prototype.hasLink=function(t){var e=this.data[this.gal.ccidx].items[t];return void 0!==e.link&&e.link},E.prototype.toString=function(){return"SphericalGallery"},E}),window.SphericalGallery=e("rs/sg3d/SphericalGallery"),window.AudioPlayer=e("rs/media/AudioPlayer"),window.VideoPlayer=e("rs/media/VideoPlayer")}();